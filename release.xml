<?xml version="1.0" encoding="Shift_JIS"?>
<project name="BurpExtlib" default="release" basedir="." >

    <!-- Load our properties -->
    <property file="release.properties"/>
    <property name="dist.dir" value="."/>
    <property name="dist.zip" value="BurpExtlib.${version}.zip"/>

    <target name="release">
        <antcall target="margepkg"/>
        <antcall target="releasepkg"/>
    </target>

    <target name="margepkg">
        <jar destfile="release/BurpExtlib.jar" update="false">
            <zipgroupfileset dir="dist/" includes="*.jar" />
        </jar>
    </target>

    <target name="releasepkg">
        <zip basedir="." destfile="${dist.zip}" update="false">
            <include name="**"/>
            <exclude name="dist/**"/>
            <exclude name="nbproject/configs/**"/>
            <exclude name="nbproject/private/**"/>
            <exclude name="help/html/**"/>
            <exclude name="help/pdf/**"/>
            <exclude name="build/**"/>
            <exclude name="**/.svn"/>
            <exclude name="**/.git"/>
            <exclude name="*.zip"/>
            <exclude name="*.log"/>
            <exclude name="*.log.lck"/>
            <exclude name="burp.extender.xml"/>
        </zip>
    </target>
    
    <target name="clean">
      <delete dir="/build"/>
      <delete dir="/dist"/>
    </target>
    
</project>
